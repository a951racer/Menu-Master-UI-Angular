<div class="mat-headline">Grocery Items</div>
<button mat-raised-button class="new-button" (click)="newIngredient()">New</button>
<button mat-raised-button class="new-button" (click)="importIngredients()">Import</button>
<div fxLayout="row" fxLayoutAlign="space-between start " class="ingredientPage">
  <!-- List -->
  <div fxFlex="0 1 50%" class="left-col">
    <p-dataView #dv [value]="ingredientList" filterBy="name">
      <p-header>
        <div class="ui-helper-clearfix">
            <div class="ui-g">
                <div class="ui-g-6 ui-md-4 filter-container">
                    <div style="position:relative">
                        <input type="search" pInputText placeholder="Filter by name" (input)="dv.filter($event.target.value)">
                    </div>
                </div>
            </div>
        </div>
      </p-header>
      <ng-template let-ingredient pTemplate="listItem">
        <div class="ui-g-12">
            <div>
              <p-card header={{ingredient.name}} subheader={{ingredient.size}} (click)="onCardClick(ingredient._id)">
                <p-header *ngIf="selectedIngredient._id === ingredient._id">
                  <div class="selected">SELECTED</div>
                </p-header>
              </p-card>            
            </div>
        </div>
      </ng-template>
    </p-dataView>
  </div>


  <!-- Details Area -->
  <div fxFlex="0 1 50%" class="right-col sticky">
    <div *ngIf="!showDetails">
      <p-card header="Click a grocery item to see details"></p-card>
    </div>

    <div id="details" *ngIf="showDetails">
      <div>
        <p-card header={{selectedIngredient.name}} subheader={{selectedIngredient.size}} styleClass="">
          <p style="font-size: 16px;">
            {{ selectedIngredient.description }}
          </p>
          <br>
          <a href="{{ selectedIngredient.productLink }}" target="_blank" ><img class="product-image" src="{{selectedIngredient.imageLink}}"  ></a>
          <p-footer>
            <button mat-button (click)="handleButtonClick('close')">CLOSE</button>
            <button mat-button (click)="handleButtonClick('edit')">EDIT</button>
            <button mat-button (click)="handleButtonClick('delete')">DELETE</button>
          </p-footer>
        </p-card>
      </div>
    </div>
  </div>
</div>
